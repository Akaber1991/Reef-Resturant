{"version":3,"file":"index.js","sources":["../src/store/defaultOptions.js","../src/store/store.js","../src/components/CarouselItem/CarouselItem.js","../src/hooks/useWindowResizeEvent.js","../src/components/SVG/NextChevron.js","../src/components/SVG/PreviousChevron.js","../src/components/CarouselButton/CarouselButton.js","../src/components/Indicators/Indicators.js","../src/modules/helpers.js","../src/components/Carousel/Carousel.js","../src/index.js"],"sourcesContent":["export const defaultControlsOptions = {\n  show: true,\n  position: \"middle\",\n  leftControlIcon: null,\n  rightControlIcon: null,\n  backgroundColor: \"rgba(0, 0, 0, 0.75)\",\n  shape: \"rectangle\",\n  width: \"auto\",\n  height: \"auto\",\n  iconHeight: \"32\",\n  iconWidth: \"32\",\n  iconFill: \"#FFFFFF\",\n  borderRadius: \"3px\"\n};\n\nexport const defaultIndicatorOptions = {\n  show: true,\n  shape: \"pill\",\n  height: \"5px\",\n  width: \"20px\",\n  activeColor: \"rgba(0,0,0,0.75)\",\n  inactiveColor: \"rgba(255,255,255,0.75)\",\n  border: \"none\",\n  boxShadow: \"0 0 3px rgba(0, 0, 0, 0.16), 0 0 3px rgba(0, 0, 0, 0.23)\"\n};\n","import React, { createContext, useReducer } from \"react\";\nimport {\n  defaultControlsOptions,\n  defaultIndicatorOptions\n} from \"./defaultOptions\";\n\nconst store = createContext({});\nconst { Provider } = store;\n\nconst StateProvider = ({\n  children,\n  childCount = 0,\n  autoPlay = false,\n  autoChangeTime = 3,\n  contentCoversContainer = true,\n  itemFit = \"contain\",\n  controlsOptions,\n  indicatorOptions,\n  slideTransitionValue = 0.3,\n  currentSlideTransition = slideTransitionValue\n}) => {\n  const [state, dispatch] = useReducer(\n    (state, { type, payload }) => {\n      switch (type) {\n        case \"updateActiveItem\":\n          return { ...state, activeItem: payload };\n        case \"setCarouselWidth\":\n          return { ...state, carouselWidth: payload };\n        case \"setTranslateValue\":\n          return { ...state, translateValue: payload };\n        case \"setToSpecificItem\": {\n          return {\n            ...state,\n            activeItem: payload,\n            translateValue: state.translateValue + state.carouselWidth\n          };\n        }\n        case \"setNextItem\": {\n          return {\n            ...state,\n            translateValue: state.translateValue + state.carouselWidth,\n            activeItem:\n              state.activeItem === childCount - 1 ? 0 : state.activeItem + 1\n          };\n        }\n        case \"setPreviousItem\": {\n          return {\n            ...state,\n            translateValue: 0,\n            activeItem:\n              state.activeItem === 0 ? childCount - 1 : state.activeItem - 1\n          };\n        }\n        case \"setActiveSlidesArray\": {\n          return {\n            ...state,\n            activeSlides: payload\n          };\n        }\n        case \"setCurrentSlideTransitionValue\": {\n          return {\n            ...state,\n            currentSlideTransition: payload\n          };\n        }\n        case \"triggerSlideTransition\": {\n          return {\n            ...state,\n            ...payload\n          };\n        }\n        case \"handleWindowResize\": {\n          return {\n            ...state,\n            ...payload\n          };\n        }\n        default:\n          return state;\n      }\n    },\n    {\n      activeItem: 0,\n      childCount,\n      translateValue: 0,\n      carouselWidth: 0,\n      autoPlay,\n      autoChangeTime,\n      contentCoversContainer,\n      itemFit,\n      controlsOptions: {\n        ...defaultControlsOptions,\n        ...controlsOptions\n      },\n      indicatorOptions: {\n        ...defaultIndicatorOptions,\n        ...indicatorOptions\n      },\n      activeSlides: [],\n      slideTransitionValue,\n      currentSlideTransition\n    }\n  );\n\n  return <Provider value={{ state, dispatch }}>{children}</Provider>;\n};\n\nexport { store, StateProvider };\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { store } from \"../../store/store\";\n\nconst Item = styled.li`\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ChildWrapper = styled.div`\n  position: relative;\n  display: inherit;\n  max-width: 100%;\n  width: 100%;\n  flex: ${({ coverContainer }) => (coverContainer ? \"1\" : \"unset\")};\n  height: 100%;\n\n  > *:first-child {\n    max-width: 100%;\n    width: ${({ width }) => `${width}px`};\n    flex: ${({ coverContainer }) => (coverContainer ? \"1\" : \"unset\")};\n    object-fit: ${({ coverContainer, itemFit }) =>\n      coverContainer ? itemFit : \"unset\"};\n  }\n`;\n\nconst CarouselItem = ({ children, index, overrideFit = false }) => {\n  const { state } = useContext(store);\n  const {\n    activeItem,\n    contentCoversContainer,\n    carouselWidth,\n    itemFit,\n    currentSlideTransition\n  } = state;\n  const objectFitValue = overrideFit || itemFit;\n\n  return (\n    <Item\n      data-testid={`carouselItem-${index}`}\n      active={index === activeItem}\n      data-active={index === activeItem}\n      slideTransition={currentSlideTransition}\n    >\n      <ChildWrapper\n        coverContainer={contentCoversContainer}\n        width={carouselWidth}\n        itemFit={objectFitValue}\n      >\n        {children}\n      </ChildWrapper>\n    </Item>\n  );\n};\n\nexport default CarouselItem;\n","import { useEffect, useState } from \"react\";\n\nconst useWindowResizeEvent = () => {\n  const getWindowWidth = () => window.innerWidth;\n  const [windowWidth, setWindowWidth] = useState(getWindowWidth());\n\n  useEffect(() => {\n    const resize = () => {\n      setWindowWidth(getWindowWidth());\n    };\n\n    window.addEventListener(\"resize\", resize);\n\n    return () => {\n      window.removeEventListener(\"resize\", resize);\n    };\n  }, []);\n\n  return windowWidth;\n};\n\nexport default useWindowResizeEvent;\n","import React from \"react\";\n\nconst NextChevron = ({ width = 80, height = 80, fill = \"#000000\" }) => {\n  return (\n    <svg\n      data-testid=\"next-chevron\"\n      role=\"img\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={width}\n      height={height}\n      viewBox=\"0 0 80 80\"\n      aria-labelledby=\"nextChevronId nextChevronDescId\"\n    >\n      <title id=\"nextChevronId\">Next Item</title>\n      <desc id=\"nextChevronDescId\">\n        An arrow to go to the next item in the carousel\n      </desc>\n      <path\n        fill={fill}\n        d=\"M36.652 18.064c1.672 1.632 18.008 18.78 18.008 18.78 0.892 0.876 1.34 2.016 1.34 3.156s-0.448 2.28-1.34 3.148c0 0-16.336 17.156-18.008 18.78-1.672 1.632-4.68 1.744-6.46 0-1.784-1.736-1.924-4.164 0-6.296l14.988-15.632-14.988-15.632c-1.924-2.132-1.784-4.564 0-6.304 1.78-1.744 4.788-1.636 6.46 0z\"\n      />\n    </svg>\n  );\n};\n\nexport default NextChevron;\n","import React from \"react\";\n\nconst PreviousChevron = ({ width = 80, height = 80, fill = \"#000000\" }) => {\n  return (\n    <svg\n      data-testid=\"previous-chevron\"\n      role=\"img\"\n      version=\"1.1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={width}\n      height={height}\n      viewBox=\"0 0 80 80\"\n      aria-labelledby=\"previousChevronId previousChevronDescId\"\n    >\n      <title id=\"previousChevronId\">Previous Item</title>\n      <desc id=\"previousChevronDescId\">\n        An arrow to go to the previous item in the carousel\n      </desc>\n      <path\n        fill={fill}\n        d=\"M49.808 18.064c1.784 1.744 1.924 4.172 0 6.304l-14.988 15.632 14.988 15.632c1.924 2.132 1.784 4.564 0 6.296-1.78 1.744-4.788 1.632-6.46 0-1.672-1.624-18.008-18.78-18.008-18.78-0.892-0.868-1.34-2.008-1.34-3.148s0.448-2.28 1.34-3.156c0 0 16.336-17.148 18.008-18.78 1.672-1.636 4.68-1.744 6.46 0z\"\n      />\n    </svg>\n  );\n};\n\nexport default PreviousChevron;\n","import React, { useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { store } from \"../../store/store\";\nimport NextChevron from \"../SVG/NextChevron\";\nimport PreviousChevron from \"../SVG/PreviousChevron\";\n\nconst CarouselButtonElement = styled.button`\n  position: absolute;\n  ${props => (props.previous ? \"left: 10px;\" : \"right: 10px;\")};\n  z-index: 9;\n  top: ${({ options }) => {\n    switch (options.position) {\n      case \"top\":\n        return \"10px\";\n      case \"bottom\":\n        return \"calc(100% - (42px + 1rem))\";\n      default:\n        return \"50%\";\n    }\n  }};\n\n  ${({ options }) => {\n    switch (options.shape) {\n      case \"circle\": {\n        if (options.width === \"auto\") {\n          console.log(\"You haven't specified a width for the button!\");\n        }\n\n        return `width: ${options.width};\n        height: ${options.width};\n        border-radius: 50%;`;\n      }\n      case \"square\": {\n        if (options.width === \"auto\") {\n          console.log(\"You haven't specified a width for the button!\");\n        }\n\n        return `width: ${options.width};\n        height: ${options.width};\n        border-radius: 0;`;\n      }\n      default:\n        return `\n            width: ${options.width};\n            height: ${options.height};\n            border-radius: ${options.borderRadius};\n          `;\n    }\n  }}\n\n  ${({ options }) => {\n    if (options.position === \"middle\") {\n      return \"transform: scale(1);\";\n    }\n  }}\n\n\n  background: rgba(0, 0, 0, 0.75);\n  border: none;\n  padding: 0;\n  margin: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0.5rem 0;\n  transition: all ease\n    ${({ currentSlideTransition }) => currentSlideTransition}s;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.16), 0 0 3px rgba(0, 0, 0, 0.23);\n\n  &:hover {\n    cursor: pointer;\n\n    ${({ options }) => {\n      if (options.position === \"middle\") {\n        return \"transform: scale(1.05);\";\n      } else {\n        return \"transform: scale(1.05)\";\n      }\n    }}\n  }\n`;\n\nconst CarouselButton = ({ previous }) => {\n  const { state, dispatch } = useContext(store);\n  const { controlsOptions, currentSlideTransition } = state;\n\n  const handleNext = () => {\n    dispatch({\n      type: \"setNextItem\"\n    });\n  };\n\n  const handlePrev = () => {\n    dispatch({\n      type: \"setPreviousItem\"\n    });\n  };\n\n  const handleClick = () => {\n    if (previous) {\n      handlePrev();\n      return;\n    }\n\n    handleNext();\n  };\n\n  const renderButtonBody = () => {\n    if (previous) {\n      if (\n        controlsOptions.leftControlIcon &&\n        React.isValidElement(controlsOptions.leftControlIcon)\n      ) {\n        return controlsOptions.leftControlIcon;\n      }\n\n      return (\n        <PreviousChevron\n          width={controlsOptions.iconWidth}\n          height={controlsOptions.iconWidth}\n          fill={controlsOptions.iconFill}\n        />\n      );\n    }\n\n    if (\n      controlsOptions.rightControlIcon &&\n      React.isValidElement(controlsOptions.rightControlIcon)\n    ) {\n      return controlsOptions.leftControlIcon;\n    }\n\n    return (\n      <NextChevron\n        width={controlsOptions.iconWidth}\n        height={controlsOptions.iconWidth}\n        fill={controlsOptions.iconFill}\n      />\n    );\n  };\n\n  return (\n    <CarouselButtonElement\n      onClick={handleClick}\n      previous={previous}\n      options={controlsOptions}\n      currentSlideTransition={currentSlideTransition}\n      aria-label={`${previous ? \"Previous\" : \"Next\"} image button`}\n      type=\"button\"\n    >\n      {renderButtonBody()}\n    </CarouselButtonElement>\n  );\n};\n\nexport default CarouselButton;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { store } from \"../../store/store\";\n\nconst Wrapper = styled.div`\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  margin: auto;\n  position: absolute;\n  bottom: 5px;\n  left: 0;\n  right: 0;\n`;\n\nconst Indicator = styled.button`\n  ${({ options }) => {\n    switch (options.shape) {\n      case \"square\": {\n        return `width: ${options.width};\n          height: ${options.width};\n          border-radius: 0;\n          `;\n      }\n      case \"circle\": {\n        return `width: ${options.width};\n          height: ${options.width};\n          border-radius: 50%;\n          `;\n      }\n      default:\n        return `width: ${options.width};\n              height: ${options.height};\n              border-radius: 50px;`;\n    }\n  }}}\n  border: ${({ options }) => options.border};\n  background-color: ${({ active, options }) =>\n    active ? options.activeColor : options.inactiveColor};\n  box-shadow: ${({ options }) => options.boxShadow};\n  transition: all 0.3s ease;\n\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst Indicators = () => {\n  const { state, dispatch } = useContext(store);\n  const { childCount, activeItem, indicatorOptions } = state;\n  const [wrapperWidth, setWrapperWidth] = useState(20 * childCount);\n\n  const handleClick = index => {\n    dispatch({ type: \"setToSpecificItem\", payload: index });\n  };\n\n  const renderIndicators = () => {\n    return [...Array(childCount).fill(\"\")].map((_, index) => (\n      <Indicator\n        key={`indicator-${index}`}\n        data-testid={`indicator-${index}`}\n        data-active={index === activeItem}\n        active={index === activeItem}\n        onClick={() => handleClick(index)}\n        options={indicatorOptions}\n        aria-label={`Image ${index + 1} button`}\n      />\n    ));\n  };\n\n  useEffect(() => {\n    setWrapperWidth(20 * childCount + 5 * childCount);\n  }, [childCount]);\n\n  return (\n    <Wrapper\n      style={{ width: `${wrapperWidth}px` || `0px` }}\n      data-testid=\"indicators\"\n    >\n      {renderIndicators()}\n    </Wrapper>\n  );\n};\n\nexport default Indicators;\n","export const getDimensions = element => {\n  if (element) {\n    const { width, height } = element.getBoundingClientRect();\n    return { width, height };\n  }\n\n  return { width: 500, height: 500 };\n};\n","import React, { useContext, useRef, useEffect, useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport { store } from \"../../store/store\";\nimport CarouselItem from \"../CarouselItem/CarouselItem\";\nimport useWindowResizeEvent from \"../../hooks/useWindowResizeEvent\";\nimport CarouselButton from \"../CarouselButton/CarouselButton\";\nimport Indicators from \"../Indicators/Indicators\";\nimport { getDimensions } from \"../../modules/helpers\";\n\nconst Wrapper = styled.div`\n  width: 100%;\n  overflow: hidden;\n  position: relative;\n  max-height: 100%;\n  height: 100%;\n`;\n\nconst CarouselWrapper = styled.ul`\n  width: 100%;\n  display: flex;\n  flex-wrap: no-wrap;\n  position: relative;\n  width: ${({ width }) => width}px;\n  height: ${({ height }) => height}px;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  justify-content: center;\n  align-items: center;\n  text-align: center;\n  transition: transform ease-out ${({ transition }) => transition}s;\n  transform: translate(-${({ translateValue }) => translateValue}px, 0);\n`;\n\nconst Carousel = ({ children }) => {\n  const { state, dispatch } = useContext(store);\n  const {\n    activeItem,\n    translateValue,\n    autoPlay,\n    autoChangeTime,\n    childCount,\n    controlsOptions,\n    indicatorOptions,\n    activeSlides,\n    slideTransitionValue,\n    currentSlideTransition\n  } = state;\n  const wrapperRef = useRef(null);\n  const windowWidth = useWindowResizeEvent();\n  const autoPlayRef = useRef(null);\n  const transitionRef = useRef(null);\n\n  const handleNext = () => {\n    dispatch({\n      type: \"setNextItem\",\n      payload: { isLast: activeItem === childCount - 1 }\n    });\n  };\n\n  const setActiveSlides = useCallback(() => {\n    if (Array.isArray(children)) {\n      dispatch({\n        type: \"setActiveSlidesArray\",\n        payload: children.slice(children.slice(0, activeItem + 3))\n      });\n\n      return;\n    }\n\n    dispatch({\n      type: \"setActiveSlidesArray\",\n      payload: [children]\n    });\n  }, [children]);\n\n  useEffect(() => {\n    if (!children) {\n      return;\n    }\n    setActiveSlides();\n  }, []);\n\n  useEffect(() => {\n    autoPlayRef.current = handleNext;\n    transitionRef.current = slideTransition;\n  });\n\n  useEffect(() => {\n    if (currentSlideTransition === 0)\n      dispatch({\n        type: \"setCurrentSlideTransitionValue\",\n        payload: slideTransitionValue\n      });\n  }, [currentSlideTransition]);\n\n  useEffect(() => {\n    const fireTransition = event => {\n      if (event.target.dataset.name !== \"carouselWrapper\") return;\n      transitionRef.current();\n    };\n\n    const transitionEnd = window.addEventListener(\n      \"transitionend\",\n      fireTransition\n    );\n\n    if (autoPlay) {\n      const play = () => {\n        autoPlayRef.current();\n      };\n\n      const interval = setInterval(play, autoChangeTime * 1000);\n      return () => {\n        clearInterval(interval);\n        window.removeEventListener(\"transitionend\", transitionEnd);\n      };\n    }\n\n    return () => {\n      window.removeEventListener(\"transitionend\", transitionEnd);\n    };\n  }, []);\n\n  useEffect(() => {\n    dispatch({\n      type: \"handleWindowResize\",\n      payload: {\n        translateValue: activeItem * getDimensions(wrapperRef.current).width,\n        currentSlideTransition: 0\n      }\n    });\n  }, [windowWidth]);\n\n  useEffect(() => {\n    const { width } = wrapperRef.current.getBoundingClientRect();\n    dispatch({ type: \"setCarouselWidth\", payload: width });\n  }, [wrapperRef]);\n\n  const slideTransition = () => {\n    let newActiveSlides = [];\n\n    if (activeItem === children.length - 1)\n      newActiveSlides = [\n        children[children.length - 2],\n        children[children.length - 1],\n        children[0]\n      ];\n    else if (activeItem === 0)\n      newActiveSlides = [\n        children[children.length - 1],\n        children[0],\n        children[1]\n      ];\n    else newActiveSlides = children.slice(activeItem - 1, activeItem + 2);\n\n    dispatch({\n      type: \"triggerSlideTransition\",\n      payload: {\n        activeSlides: newActiveSlides,\n        translateValue: getDimensions(wrapperRef.current).width,\n        currentSlideTransition: 0\n      }\n    });\n  };\n\n  const renderChildren = () =>\n    activeSlides.map((slide, i) => (\n      <CarouselItem\n        key={i}\n        index={i}\n        overrideFit={slide ? slide?.props[\"data-itemFit\"] : false}\n      >\n        {slide}\n      </CarouselItem>\n    ));\n\n  if (!children) {\n    return (\n      <Wrapper\n        tabIndex={0}\n        ref={wrapperRef}\n        data-testid=\"carousel-wrapper-no-children\"\n      >\n        <CarouselWrapper\n          translateValue={translateValue}\n          style={{\n            width: \"100%\",\n            transform: `translate(-${translateValue}px, 0)`\n          }}\n          data-name=\"carouselWrapper\"\n        >\n          <h2>You need to pass some elements in to navigate through!</h2>\n        </CarouselWrapper>\n      </Wrapper>\n    );\n  }\n\n  return (\n    <Wrapper tabIndex={0} ref={wrapperRef} data-testid=\"carousel-wrapper\">\n      {controlsOptions.show && activeSlides.length > 1 && (\n        <CarouselButton previous />\n      )}\n\n      <CarouselWrapper\n        translateValue={translateValue}\n        width={getDimensions(wrapperRef.current).width * activeSlides.length}\n        height={getDimensions(wrapperRef.current).height}\n        transition={currentSlideTransition}\n        data-name=\"carouselWrapper\"\n      >\n        {renderChildren()}\n      </CarouselWrapper>\n\n      {controlsOptions.show && activeSlides.length > 1 && <CarouselButton />}\n\n      {indicatorOptions.show && activeSlides.length > 1 && <Indicators />}\n    </Wrapper>\n  );\n};\nexport default Carousel;\n","import React from \"react\";\nimport { StateProvider } from \"./store/store\";\nimport Carousel from \"./components/Carousel/Carousel\";\n\nconst SimpleCarousel = ({\n  children,\n  autoPlay,\n  autoChangeTime,\n  showIndicators,\n  contentCoversContainer,\n  itemFit,\n  controlsOptions,\n  indicatorOptions\n}) => (\n  <StateProvider\n    childCount={children ? children.length : 0}\n    autoPlay={autoPlay}\n    autoChangeTime={autoChangeTime}\n    showIndicators={showIndicators}\n    contentCoversContainer={contentCoversContainer}\n    itemFit={itemFit}\n    controlsOptions={controlsOptions}\n    indicatorOptions={indicatorOptions}\n  >\n    <Carousel>{children}</Carousel>\n  </StateProvider>\n);\n\nexport default SimpleCarousel;\n"],"names":["defaultControlsOptions","show","position","leftControlIcon","rightControlIcon","backgroundColor","shape","width","height","iconHeight","iconWidth","iconFill","borderRadius","defaultIndicatorOptions","activeColor","inactiveColor","border","boxShadow","store","createContext","Provider","StateProvider","children","childCount","autoPlay","autoChangeTime","contentCoversContainer","itemFit","controlsOptions","indicatorOptions","slideTransitionValue","currentSlideTransition","useReducer","state","type","payload","activeItem","carouselWidth","translateValue","activeSlides","dispatch","React","Item","styled","li","ChildWrapper","div","coverContainer","CarouselItem","index","overrideFit","useContext","objectFitValue","useWindowResizeEvent","getWindowWidth","window","innerWidth","useState","windowWidth","setWindowWidth","useEffect","resize","addEventListener","removeEventListener","NextChevron","fill","PreviousChevron","CarouselButtonElement","button","props","previous","options","console","log","CarouselButton","handleNext","handlePrev","handleClick","renderButtonBody","isValidElement","Wrapper","Indicator","active","Indicators","wrapperWidth","setWrapperWidth","renderIndicators","Array","map","_","getDimensions","element","getBoundingClientRect","CarouselWrapper","ul","transition","Carousel","wrapperRef","useRef","autoPlayRef","transitionRef","isLast","setActiveSlides","useCallback","isArray","slice","current","slideTransition","fireTransition","event","target","dataset","name","transitionEnd","play","interval","setInterval","clearInterval","newActiveSlides","length","renderChildren","slide","i","transform","SimpleCarousel","showIndicators"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAO,IAAMA,sBAAsB,GAAG;AACpCC,EAAAA,IAAI,EAAE,IAD8B;AAEpCC,EAAAA,QAAQ,EAAE,QAF0B;AAGpCC,EAAAA,eAAe,EAAE,IAHmB;AAIpCC,EAAAA,gBAAgB,EAAE,IAJkB;AAKpCC,EAAAA,eAAe,EAAE,qBALmB;AAMpCC,EAAAA,KAAK,EAAE,WAN6B;AAOpCC,EAAAA,KAAK,EAAE,MAP6B;AAQpCC,EAAAA,MAAM,EAAE,MAR4B;AASpCC,EAAAA,UAAU,EAAE,IATwB;AAUpCC,EAAAA,SAAS,EAAE,IAVyB;AAWpCC,EAAAA,QAAQ,EAAE,SAX0B;AAYpCC,EAAAA,YAAY,EAAE;AAZsB,CAA/B;AAeA,IAAMC,uBAAuB,GAAG;AACrCZ,EAAAA,IAAI,EAAE,IAD+B;AAErCK,EAAAA,KAAK,EAAE,MAF8B;AAGrCE,EAAAA,MAAM,EAAE,KAH6B;AAIrCD,EAAAA,KAAK,EAAE,MAJ8B;AAKrCO,EAAAA,WAAW,EAAE,kBALwB;AAMrCC,EAAAA,aAAa,EAAE,wBANsB;AAOrCC,EAAAA,MAAM,EAAE,MAP6B;AAQrCC,EAAAA,SAAS,EAAE;AAR0B,CAAhC;;ACTP,IAAMC,KAAK,GAAGC,mBAAa,CAAC,EAAD,CAA3B;IACQC,WAAaF,MAAbE;;AAER,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,OAWhB;AAAA,MAVJC,QAUI,QAVJA,QAUI;AAAA,6BATJC,UASI;AAAA,MATJA,UASI,gCATS,CAST;AAAA,2BARJC,QAQI;AAAA,MARJA,QAQI,8BARO,KAQP;AAAA,iCAPJC,cAOI;AAAA,MAPJA,cAOI,oCAPa,CAOb;AAAA,mCANJC,sBAMI;AAAA,MANJA,sBAMI,sCANqB,IAMrB;AAAA,0BALJC,OAKI;AAAA,MALJA,OAKI,6BALM,SAKN;AAAA,MAJJC,eAII,QAJJA,eAII;AAAA,MAHJC,gBAGI,QAHJA,gBAGI;AAAA,mCAFJC,oBAEI;AAAA,MAFJA,oBAEI,sCAFmB,GAEnB;AAAA,mCADJC,sBACI;AAAA,MADJA,sBACI,sCADqBD,oBACrB;;AAAA,oBACsBE,gBAAU,CAClC,UAACC,KAAD,SAA8B;AAAA,QAApBC,IAAoB,SAApBA,IAAoB;AAAA,QAAdC,OAAc,SAAdA,OAAc;;AAC5B,YAAQD,IAAR;AACE,WAAK,kBAAL;AACE,4BAAYD,KAAZ;AAAmBG,UAAAA,UAAU,EAAED;AAA/B;;AACF,WAAK,kBAAL;AACE,4BAAYF,KAAZ;AAAmBI,UAAAA,aAAa,EAAEF;AAAlC;;AACF,WAAK,mBAAL;AACE,4BAAYF,KAAZ;AAAmBK,UAAAA,cAAc,EAAEH;AAAnC;;AACF,WAAK,mBAAL;AAA0B;AACxB,8BACKF,KADL;AAEEG,YAAAA,UAAU,EAAED,OAFd;AAGEG,YAAAA,cAAc,EAAEL,KAAK,CAACK,cAAN,GAAuBL,KAAK,CAACI;AAH/C;AAKD;;AACD,WAAK,aAAL;AAAoB;AAClB,8BACKJ,KADL;AAEEK,YAAAA,cAAc,EAAEL,KAAK,CAACK,cAAN,GAAuBL,KAAK,CAACI,aAF/C;AAGED,YAAAA,UAAU,EACRH,KAAK,CAACG,UAAN,KAAqBb,UAAU,GAAG,CAAlC,GAAsC,CAAtC,GAA0CU,KAAK,CAACG,UAAN,GAAmB;AAJjE;AAMD;;AACD,WAAK,iBAAL;AAAwB;AACtB,8BACKH,KADL;AAEEK,YAAAA,cAAc,EAAE,CAFlB;AAGEF,YAAAA,UAAU,EACRH,KAAK,CAACG,UAAN,KAAqB,CAArB,GAAyBb,UAAU,GAAG,CAAtC,GAA0CU,KAAK,CAACG,UAAN,GAAmB;AAJjE;AAMD;;AACD,WAAK,sBAAL;AAA6B;AAC3B,8BACKH,KADL;AAEEM,YAAAA,YAAY,EAAEJ;AAFhB;AAID;;AACD,WAAK,gCAAL;AAAuC;AACrC,8BACKF,KADL;AAEEF,YAAAA,sBAAsB,EAAEI;AAF1B;AAID;;AACD,WAAK,wBAAL;AAA+B;AAC7B,8BACKF,KADL,MAEKE,OAFL;AAID;;AACD,WAAK,oBAAL;AAA2B;AACzB,8BACKF,KADL,MAEKE,OAFL;AAID;;AACD;AACE,eAAOF,KAAP;AAvDJ;AAyDD,GA3DiC,EA4DlC;AACEG,IAAAA,UAAU,EAAE,CADd;AAEEb,IAAAA,UAAU,EAAVA,UAFF;AAGEe,IAAAA,cAAc,EAAE,CAHlB;AAIED,IAAAA,aAAa,EAAE,CAJjB;AAKEb,IAAAA,QAAQ,EAARA,QALF;AAMEC,IAAAA,cAAc,EAAdA,cANF;AAOEC,IAAAA,sBAAsB,EAAtBA,sBAPF;AAQEC,IAAAA,OAAO,EAAPA,OARF;AASEC,IAAAA,eAAe,eACV5B,sBADU,MAEV4B,eAFU,CATjB;AAaEC,IAAAA,gBAAgB,eACXhB,uBADW,MAEXgB,gBAFW,CAblB;AAiBEU,IAAAA,YAAY,EAAE,EAjBhB;AAkBET,IAAAA,oBAAoB,EAApBA,oBAlBF;AAmBEC,IAAAA,sBAAsB,EAAtBA;AAnBF,GA5DkC,CADhC;AAAA,MACGE,KADH;AAAA,MACUO,QADV;;AAoFJ,sBAAOC,6BAAC,QAAD;AAAU,IAAA,KAAK,EAAE;AAAER,MAAAA,KAAK,EAALA,KAAF;AAASO,MAAAA,QAAQ,EAARA;AAAT;AAAjB,KAAuClB,QAAvC,CAAP;AACD,CAhGD;;;;;;;;;;;;;;;;;;;;;ACLA,IAAMoB,IAAI,GAAGC,MAAM,CAACC,EAAV,mBAAV;AAQA,IAAMC,YAAY,GAAGF,MAAM,CAACG,GAAV,qBAKR;AAAA,MAAGC,cAAH,QAAGA,cAAH;AAAA,SAAyBA,cAAc,GAAG,GAAH,GAAS,OAAhD;AAAA,CALQ,EAUL;AAAA,MAAGxC,KAAH,SAAGA,KAAH;AAAA,SAAkBA,KAAlB;AAAA,CAVK,EAWN;AAAA,MAAGwC,cAAH,SAAGA,cAAH;AAAA,SAAyBA,cAAc,GAAG,GAAH,GAAS,OAAhD;AAAA,CAXM,EAYA;AAAA,MAAGA,cAAH,SAAGA,cAAH;AAAA,MAAmBpB,OAAnB,SAAmBA,OAAnB;AAAA,SACZoB,cAAc,GAAGpB,OAAH,GAAa,OADf;AAAA,CAZA,CAAlB;;AAiBA,IAAMqB,YAAY,GAAG,SAAfA,YAAe,QAA8C;AAAA,MAA3C1B,QAA2C,SAA3CA,QAA2C;AAAA,MAAjC2B,KAAiC,SAAjCA,KAAiC;AAAA,gCAA1BC,WAA0B;AAAA,MAA1BA,WAA0B,kCAAZ,KAAY;;AAAA,oBAC/CC,gBAAU,CAACjC,KAAD,CADqC;AAAA,MACzDe,KADyD,eACzDA,KADyD;;AAAA,MAG/DG,UAH+D,GAQ7DH,KAR6D,CAG/DG,UAH+D;AAAA,MAI/DV,sBAJ+D,GAQ7DO,KAR6D,CAI/DP,sBAJ+D;AAAA,MAK/DW,aAL+D,GAQ7DJ,KAR6D,CAK/DI,aAL+D;AAAA,MAM/DV,OAN+D,GAQ7DM,KAR6D,CAM/DN,OAN+D;AAAA,MAO/DI,sBAP+D,GAQ7DE,KAR6D,CAO/DF,sBAP+D;AASjE,MAAMqB,cAAc,GAAGF,WAAW,IAAIvB,OAAtC;AAEA,sBACEc,6BAAC,IAAD;AACE,qCAA6BQ,KAD/B;AAEE,IAAA,MAAM,EAAEA,KAAK,KAAKb,UAFpB;AAGE,mBAAaa,KAAK,KAAKb,UAHzB;AAIE,IAAA,eAAe,EAAEL;AAJnB,kBAMEU,6BAAC,YAAD;AACE,IAAA,cAAc,EAAEf,sBADlB;AAEE,IAAA,KAAK,EAAEW,aAFT;AAGE,IAAA,OAAO,EAAEe;AAHX,KAKG9B,QALH,CANF,CADF;AAgBD,CA3BD;;AC3BA,IAAM+B,oBAAoB,GAAG,SAAvBA,oBAAuB,GAAM;AACjC,MAAMC,cAAc,GAAG,SAAjBA,cAAiB;AAAA,WAAMC,MAAM,CAACC,UAAb;AAAA,GAAvB;;AADiC,kBAEKC,cAAQ,CAACH,cAAc,EAAf,CAFb;AAAA,MAE1BI,WAF0B;AAAA,MAEbC,cAFa;;AAIjCC,EAAAA,eAAS,CAAC,YAAM;AACd,QAAMC,MAAM,GAAG,SAATA,MAAS,GAAM;AACnBF,MAAAA,cAAc,CAACL,cAAc,EAAf,CAAd;AACD,KAFD;;AAIAC,IAAAA,MAAM,CAACO,gBAAP,CAAwB,QAAxB,EAAkCD,MAAlC;AAEA,WAAO,YAAM;AACXN,MAAAA,MAAM,CAACQ,mBAAP,CAA2B,QAA3B,EAAqCF,MAArC;AACD,KAFD;AAGD,GAVQ,EAUN,EAVM,CAAT;AAYA,SAAOH,WAAP;AACD,CAjBD;;ACAA,IAAMM,WAAW,GAAG,SAAdA,WAAc,OAAmD;AAAA,wBAAhDzD,KAAgD;AAAA,MAAhDA,KAAgD,2BAAxC,EAAwC;AAAA,yBAApCC,MAAoC;AAAA,MAApCA,MAAoC,4BAA3B,EAA2B;AAAA,uBAAvByD,IAAuB;AAAA,MAAvBA,IAAuB,0BAAhB,SAAgB;AACrE,sBACExB;AACE,mBAAY,cADd;AAEE,IAAA,IAAI,EAAC,KAFP;AAGE,IAAA,OAAO,EAAC,KAHV;AAIE,IAAA,KAAK,EAAC,4BAJR;AAKE,IAAA,KAAK,EAAElC,KALT;AAME,IAAA,MAAM,EAAEC,MANV;AAOE,IAAA,OAAO,EAAC,WAPV;AAQE,uBAAgB;AARlB,kBAUEiC;AAAO,IAAA,EAAE,EAAC;AAAV,iBAVF,eAWEA;AAAM,IAAA,EAAE,EAAC;AAAT,uDAXF,eAcEA;AACE,IAAA,IAAI,EAAEwB,IADR;AAEE,IAAA,CAAC,EAAC;AAFJ,IAdF,CADF;AAqBD,CAtBD;;ACAA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,OAAmD;AAAA,wBAAhD3D,KAAgD;AAAA,MAAhDA,KAAgD,2BAAxC,EAAwC;AAAA,yBAApCC,MAAoC;AAAA,MAApCA,MAAoC,4BAA3B,EAA2B;AAAA,uBAAvByD,IAAuB;AAAA,MAAvBA,IAAuB,0BAAhB,SAAgB;AACzE,sBACExB;AACE,mBAAY,kBADd;AAEE,IAAA,IAAI,EAAC,KAFP;AAGE,IAAA,OAAO,EAAC,KAHV;AAIE,IAAA,KAAK,EAAC,4BAJR;AAKE,IAAA,KAAK,EAAElC,KALT;AAME,IAAA,MAAM,EAAEC,MANV;AAOE,IAAA,OAAO,EAAC,WAPV;AAQE,uBAAgB;AARlB,kBAUEiC;AAAO,IAAA,EAAE,EAAC;AAAV,qBAVF,eAWEA;AAAM,IAAA,EAAE,EAAC;AAAT,2DAXF,eAcEA;AACE,IAAA,IAAI,EAAEwB,IADR;AAEE,IAAA,CAAC,EAAC;AAFJ,IAdF,CADF;AAqBD,CAtBD;;;;;;;;;;;ACIA,IAAME,qBAAqB,GAAGxB,MAAM,CAACyB,MAAV,sBAEvB,UAAAC,KAAK;AAAA,SAAKA,KAAK,CAACC,QAAN,GAAiB,aAAjB,GAAiC,cAAtC;AAAA,CAFkB,EAIlB,gBAAiB;AAAA,MAAdC,OAAc,QAAdA,OAAc;;AACtB,UAAQA,OAAO,CAACrE,QAAhB;AACE,SAAK,KAAL;AACE,aAAO,MAAP;;AACF,SAAK,QAAL;AACE,aAAO,4BAAP;;AACF;AACE,aAAO,KAAP;AANJ;AAQD,CAbwB,EAevB,iBAAiB;AAAA,MAAdqE,OAAc,SAAdA,OAAc;;AACjB,UAAQA,OAAO,CAACjE,KAAhB;AACE,SAAK,QAAL;AAAe;AACb,YAAIiE,OAAO,CAAChE,KAAR,KAAkB,MAAtB,EAA8B;AAC5BiE,UAAAA,OAAO,CAACC,GAAR,CAAY,+CAAZ;AACD;;AAED,2BAAiBF,OAAO,CAAChE,KAAzB,2BACUgE,OAAO,CAAChE,KADlB;AAGD;;AACD,SAAK,QAAL;AAAe;AACb,YAAIgE,OAAO,CAAChE,KAAR,KAAkB,MAAtB,EAA8B;AAC5BiE,UAAAA,OAAO,CAACC,GAAR,CAAY,+CAAZ;AACD;;AAED,2BAAiBF,OAAO,CAAChE,KAAzB,2BACUgE,OAAO,CAAChE,KADlB;AAGD;;AACD;AACE,uCACagE,OAAO,CAAChE,KADrB,+BAEcgE,OAAO,CAAC/D,MAFtB,sCAGqB+D,OAAO,CAAC3D,YAH7B;AApBJ;AA0BD,CA1CwB,EA4CvB,iBAAiB;AAAA,MAAd2D,OAAc,SAAdA,OAAc;;AACjB,MAAIA,OAAO,CAACrE,QAAR,KAAqB,QAAzB,EAAmC;AACjC,WAAO,sBAAP;AACD;AACF,CAhDwB,EA4DrB;AAAA,MAAG6B,sBAAH,SAAGA,sBAAH;AAAA,SAAgCA,sBAAhC;AAAA,CA5DqB,EAkErB,iBAAiB;AAAA,MAAdwC,OAAc,SAAdA,OAAc;;AACjB,MAAIA,OAAO,CAACrE,QAAR,KAAqB,QAAzB,EAAmC;AACjC,WAAO,yBAAP;AACD,GAFD,MAEO;AACL,WAAO,wBAAP;AACD;AACF,CAxEsB,CAA3B;;AA4EA,IAAMwE,cAAc,GAAG,SAAjBA,cAAiB,QAAkB;AAAA,MAAfJ,QAAe,SAAfA,QAAe;;AAAA,oBACXnB,gBAAU,CAACjC,KAAD,CADC;AAAA,MAC/Be,KAD+B,eAC/BA,KAD+B;AAAA,MACxBO,QADwB,eACxBA,QADwB;;AAAA,MAE/BZ,eAF+B,GAEaK,KAFb,CAE/BL,eAF+B;AAAA,MAEdG,sBAFc,GAEaE,KAFb,CAEdF,sBAFc;;AAIvC,MAAM4C,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBnC,IAAAA,QAAQ,CAAC;AACPN,MAAAA,IAAI,EAAE;AADC,KAAD,CAAR;AAGD,GAJD;;AAMA,MAAM0C,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBpC,IAAAA,QAAQ,CAAC;AACPN,MAAAA,IAAI,EAAE;AADC,KAAD,CAAR;AAGD,GAJD;;AAMA,MAAM2C,WAAW,GAAG,SAAdA,WAAc,GAAM;AACxB,QAAIP,QAAJ,EAAc;AACZM,MAAAA,UAAU;AACV;AACD;;AAEDD,IAAAA,UAAU;AACX,GAPD;;AASA,MAAMG,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,QAAIR,QAAJ,EAAc;AACZ,UACE1C,eAAe,CAACzB,eAAhB,IACAsC,cAAK,CAACsC,cAAN,CAAqBnD,eAAe,CAACzB,eAArC,CAFF,EAGE;AACA,eAAOyB,eAAe,CAACzB,eAAvB;AACD;;AAED,0BACEsC,6BAAC,eAAD;AACE,QAAA,KAAK,EAAEb,eAAe,CAAClB,SADzB;AAEE,QAAA,MAAM,EAAEkB,eAAe,CAAClB,SAF1B;AAGE,QAAA,IAAI,EAAEkB,eAAe,CAACjB;AAHxB,QADF;AAOD;;AAED,QACEiB,eAAe,CAACxB,gBAAhB,IACAqC,cAAK,CAACsC,cAAN,CAAqBnD,eAAe,CAACxB,gBAArC,CAFF,EAGE;AACA,aAAOwB,eAAe,CAACzB,eAAvB;AACD;;AAED,wBACEsC,6BAAC,WAAD;AACE,MAAA,KAAK,EAAEb,eAAe,CAAClB,SADzB;AAEE,MAAA,MAAM,EAAEkB,eAAe,CAAClB,SAF1B;AAGE,MAAA,IAAI,EAAEkB,eAAe,CAACjB;AAHxB,MADF;AAOD,GAhCD;;AAkCA,sBACE8B,6BAAC,qBAAD;AACE,IAAA,OAAO,EAAEoC,WADX;AAEE,IAAA,QAAQ,EAAEP,QAFZ;AAGE,IAAA,OAAO,EAAE1C,eAHX;AAIE,IAAA,sBAAsB,EAAEG,sBAJ1B;AAKE,mBAAeuC,QAAQ,GAAG,UAAH,GAAgB,MAAvC,mBALF;AAME,IAAA,IAAI,EAAC;AANP,KAQGQ,gBAAgB,EARnB,CADF;AAYD,CAvED;;;;;;;;;;;;;;;;;;;;;AC9EA,IAAME,OAAO,GAAGrC,MAAM,CAACG,GAAV,qBAAb;AAYA,IAAMmC,SAAS,GAAGtC,MAAM,CAACyB,MAAV,uBACX,gBAAiB;AAAA,MAAdG,OAAc,QAAdA,OAAc;;AACjB,UAAQA,OAAO,CAACjE,KAAhB;AACE,SAAK,QAAL;AAAe;AACb,2BAAiBiE,OAAO,CAAChE,KAAzB,6BACYgE,OAAO,CAAChE,KADpB;AAID;;AACD,SAAK,QAAL;AAAe;AACb,2BAAiBgE,OAAO,CAAChE,KAAzB,6BACYgE,OAAO,CAAChE,KADpB;AAID;;AACD;AACE,yBAAiBgE,OAAO,CAAChE,KAAzB,iCACgBgE,OAAO,CAAC/D,MADxB;AAdJ;AAkBD,CApBY,EAqBH;AAAA,MAAG+D,OAAH,SAAGA,OAAH;AAAA,SAAiBA,OAAO,CAACvD,MAAzB;AAAA,CArBG,EAsBO;AAAA,MAAGkE,MAAH,SAAGA,MAAH;AAAA,MAAWX,OAAX,SAAWA,OAAX;AAAA,SAClBW,MAAM,GAAGX,OAAO,CAACzD,WAAX,GAAyByD,OAAO,CAACxD,aADrB;AAAA,CAtBP,EAwBC;AAAA,MAAGwD,OAAH,SAAGA,OAAH;AAAA,SAAiBA,OAAO,CAACtD,SAAzB;AAAA,CAxBD,CAAf;;AAgCA,IAAMkE,UAAU,GAAG,SAAbA,UAAa,GAAM;AAAA,oBACKhC,gBAAU,CAACjC,KAAD,CADf;AAAA,MACfe,KADe,eACfA,KADe;AAAA,MACRO,QADQ,eACRA,QADQ;;AAAA,MAEfjB,UAFe,GAE8BU,KAF9B,CAEfV,UAFe;AAAA,MAEHa,UAFG,GAE8BH,KAF9B,CAEHG,UAFG;AAAA,MAESP,gBAFT,GAE8BI,KAF9B,CAESJ,gBAFT;;AAAA,kBAGiB4B,cAAQ,CAAC,KAAKlC,UAAN,CAHzB;AAAA,MAGhB6D,YAHgB;AAAA,MAGFC,eAHE;;AAKvB,MAAMR,WAAW,GAAG,SAAdA,WAAc,CAAA5B,KAAK,EAAI;AAC3BT,IAAAA,QAAQ,CAAC;AAAEN,MAAAA,IAAI,EAAE,mBAAR;AAA6BC,MAAAA,OAAO,EAAEc;AAAtC,KAAD,CAAR;AACD,GAFD;;AAIA,MAAMqC,gBAAgB,GAAG,SAAnBA,gBAAmB,GAAM;AAC7B,WAAO,UAAIC,KAAK,CAAChE,UAAD,CAAL,CAAkB0C,IAAlB,CAAuB,EAAvB,CAAJ,EAAgCuB,GAAhC,CAAoC,UAACC,CAAD,EAAIxC,KAAJ;AAAA,0BACzCR,6BAAC,SAAD;AACE,QAAA,GAAG,iBAAeQ,KADpB;AAEE,sCAA0BA,KAF5B;AAGE,uBAAaA,KAAK,KAAKb,UAHzB;AAIE,QAAA,MAAM,EAAEa,KAAK,KAAKb,UAJpB;AAKE,QAAA,OAAO,EAAE;AAAA,iBAAMyC,WAAW,CAAC5B,KAAD,CAAjB;AAAA,SALX;AAME,QAAA,OAAO,EAAEpB,gBANX;AAOE,kCAAqBoB,KAAK,GAAG,CAA7B;AAPF,QADyC;AAAA,KAApC,CAAP;AAWD,GAZD;;AAcAW,EAAAA,eAAS,CAAC,YAAM;AACdyB,IAAAA,eAAe,CAAC,KAAK9D,UAAL,GAAkB,IAAIA,UAAvB,CAAf;AACD,GAFQ,EAEN,CAACA,UAAD,CAFM,CAAT;AAIA,sBACEkB,6BAAC,OAAD;AACE,IAAA,KAAK,EAAE;AAAElC,MAAAA,KAAK,EAAK6E,YAAH;AAAT,KADT;AAEE,mBAAY;AAFd,KAIGE,gBAAgB,EAJnB,CADF;AAQD,CAnCD;;AChDO,IAAMI,aAAa,GAAG,SAAhBA,aAAgB,CAAAC,OAAO,EAAI;AACtC,MAAIA,OAAJ,EAAa;AAAA,gCACeA,OAAO,CAACC,qBAAR,EADf;AAAA,QACHrF,KADG,yBACHA,KADG;AAAA,QACIC,MADJ,yBACIA,MADJ;;AAEX,WAAO;AAAED,MAAAA,KAAK,EAALA,KAAF;AAASC,MAAAA,MAAM,EAANA;AAAT,KAAP;AACD;;AAED,SAAO;AAAED,IAAAA,KAAK,EAAE,GAAT;AAAcC,IAAAA,MAAM,EAAE;AAAtB,GAAP;AACD,CAPM;;;;;;;;;;;;;;;;;;;;;ACSP,IAAMwE,SAAO,GAAGrC,MAAM,CAACG,GAAV,qBAAb;AAQA,IAAM+C,eAAe,GAAGlD,MAAM,CAACmD,EAAV,uBAKV;AAAA,MAAGvF,KAAH,QAAGA,KAAH;AAAA,SAAeA,KAAf;AAAA,CALU,EAMT;AAAA,MAAGC,MAAH,SAAGA,MAAH;AAAA,SAAgBA,MAAhB;AAAA,CANS,EAac;AAAA,MAAGuF,UAAH,SAAGA,UAAH;AAAA,SAAoBA,UAApB;AAAA,CAbd,EAcK;AAAA,MAAGzD,cAAH,SAAGA,cAAH;AAAA,SAAwBA,cAAxB;AAAA,CAdL,CAArB;;AAiBA,IAAM0D,QAAQ,GAAG,SAAXA,QAAW,QAAkB;AAAA,MAAf1E,QAAe,SAAfA,QAAe;;AAAA,oBACL6B,gBAAU,CAACjC,KAAD,CADL;AAAA,MACzBe,KADyB,eACzBA,KADyB;AAAA,MAClBO,QADkB,eAClBA,QADkB;;AAAA,MAG/BJ,UAH+B,GAa7BH,KAb6B,CAG/BG,UAH+B;AAAA,MAI/BE,cAJ+B,GAa7BL,KAb6B,CAI/BK,cAJ+B;AAAA,MAK/Bd,QAL+B,GAa7BS,KAb6B,CAK/BT,QAL+B;AAAA,MAM/BC,cAN+B,GAa7BQ,KAb6B,CAM/BR,cAN+B;AAAA,MAO/BF,UAP+B,GAa7BU,KAb6B,CAO/BV,UAP+B;AAAA,MAQ/BK,eAR+B,GAa7BK,KAb6B,CAQ/BL,eAR+B;AAAA,MAS/BC,gBAT+B,GAa7BI,KAb6B,CAS/BJ,gBAT+B;AAAA,MAU/BU,YAV+B,GAa7BN,KAb6B,CAU/BM,YAV+B;AAAA,MAW/BT,oBAX+B,GAa7BG,KAb6B,CAW/BH,oBAX+B;AAAA,MAY/BC,sBAZ+B,GAa7BE,KAb6B,CAY/BF,sBAZ+B;AAcjC,MAAMkE,UAAU,GAAGC,YAAM,CAAC,IAAD,CAAzB;AACA,MAAMxC,WAAW,GAAGL,oBAAoB,EAAxC;AACA,MAAM8C,WAAW,GAAGD,YAAM,CAAC,IAAD,CAA1B;AACA,MAAME,aAAa,GAAGF,YAAM,CAAC,IAAD,CAA5B;;AAEA,MAAMvB,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBnC,IAAAA,QAAQ,CAAC;AACPN,MAAAA,IAAI,EAAE,aADC;AAEPC,MAAAA,OAAO,EAAE;AAAEkE,QAAAA,MAAM,EAAEjE,UAAU,KAAKb,UAAU,GAAG;AAAtC;AAFF,KAAD,CAAR;AAID,GALD;;AAOA,MAAM+E,eAAe,GAAGC,iBAAW,CAAC,YAAM;AACxC,QAAIhB,KAAK,CAACiB,OAAN,CAAclF,QAAd,CAAJ,EAA6B;AAC3BkB,MAAAA,QAAQ,CAAC;AACPN,QAAAA,IAAI,EAAE,sBADC;AAEPC,QAAAA,OAAO,EAAEb,QAAQ,CAACmF,KAAT,CAAenF,QAAQ,CAACmF,KAAT,CAAe,CAAf,EAAkBrE,UAAU,GAAG,CAA/B,CAAf;AAFF,OAAD,CAAR;AAKA;AACD;;AAEDI,IAAAA,QAAQ,CAAC;AACPN,MAAAA,IAAI,EAAE,sBADC;AAEPC,MAAAA,OAAO,EAAE,CAACb,QAAD;AAFF,KAAD,CAAR;AAID,GAdkC,EAchC,CAACA,QAAD,CAdgC,CAAnC;AAgBAsC,EAAAA,eAAS,CAAC,YAAM;AACd,QAAI,CAACtC,QAAL,EAAe;AACb;AACD;;AACDgF,IAAAA,eAAe;AAChB,GALQ,EAKN,EALM,CAAT;AAOA1C,EAAAA,eAAS,CAAC,YAAM;AACduC,IAAAA,WAAW,CAACO,OAAZ,GAAsB/B,UAAtB;AACAyB,IAAAA,aAAa,CAACM,OAAd,GAAwBC,eAAxB;AACD,GAHQ,CAAT;AAKA/C,EAAAA,eAAS,CAAC,YAAM;AACd,QAAI7B,sBAAsB,KAAK,CAA/B,EACES,QAAQ,CAAC;AACPN,MAAAA,IAAI,EAAE,gCADC;AAEPC,MAAAA,OAAO,EAAEL;AAFF,KAAD,CAAR;AAIH,GANQ,EAMN,CAACC,sBAAD,CANM,CAAT;AAQA6B,EAAAA,eAAS,CAAC,YAAM;AACd,QAAMgD,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,KAAK,EAAI;AAC9B,UAAIA,KAAK,CAACC,MAAN,CAAaC,OAAb,CAAqBC,IAArB,KAA8B,iBAAlC,EAAqD;AACrDZ,MAAAA,aAAa,CAACM,OAAd;AACD,KAHD;;AAKA,QAAMO,aAAa,GAAG1D,MAAM,CAACO,gBAAP,CACpB,eADoB,EAEpB8C,cAFoB,CAAtB;;AAKA,QAAIpF,QAAJ,EAAc;AACZ,UAAM0F,IAAI,GAAG,SAAPA,IAAO,GAAM;AACjBf,QAAAA,WAAW,CAACO,OAAZ;AACD,OAFD;;AAIA,UAAMS,QAAQ,GAAGC,WAAW,CAACF,IAAD,EAAOzF,cAAc,GAAG,IAAxB,CAA5B;AACA,aAAO,YAAM;AACX4F,QAAAA,aAAa,CAACF,QAAD,CAAb;AACA5D,QAAAA,MAAM,CAACQ,mBAAP,CAA2B,eAA3B,EAA4CkD,aAA5C;AACD,OAHD;AAID;;AAED,WAAO,YAAM;AACX1D,MAAAA,MAAM,CAACQ,mBAAP,CAA2B,eAA3B,EAA4CkD,aAA5C;AACD,KAFD;AAGD,GA1BQ,EA0BN,EA1BM,CAAT;AA4BArD,EAAAA,eAAS,CAAC,YAAM;AACdpB,IAAAA,QAAQ,CAAC;AACPN,MAAAA,IAAI,EAAE,oBADC;AAEPC,MAAAA,OAAO,EAAE;AACPG,QAAAA,cAAc,EAAEF,UAAU,GAAGsD,aAAa,CAACO,UAAU,CAACS,OAAZ,CAAb,CAAkCnG,KADxD;AAEPwB,QAAAA,sBAAsB,EAAE;AAFjB;AAFF,KAAD,CAAR;AAOD,GARQ,EAQN,CAAC2B,WAAD,CARM,CAAT;AAUAE,EAAAA,eAAS,CAAC,YAAM;AAAA,gCACIqC,UAAU,CAACS,OAAX,CAAmBd,qBAAnB,EADJ;AAAA,QACNrF,KADM,yBACNA,KADM;;AAEdiC,IAAAA,QAAQ,CAAC;AAAEN,MAAAA,IAAI,EAAE,kBAAR;AAA4BC,MAAAA,OAAO,EAAE5B;AAArC,KAAD,CAAR;AACD,GAHQ,EAGN,CAAC0F,UAAD,CAHM,CAAT;;AAKA,MAAMU,eAAe,GAAG,SAAlBA,eAAkB,GAAM;AAC5B,QAAIW,eAAe,GAAG,EAAtB;AAEA,QAAIlF,UAAU,KAAKd,QAAQ,CAACiG,MAAT,GAAkB,CAArC,EACED,eAAe,GAAG,CAChBhG,QAAQ,CAACA,QAAQ,CAACiG,MAAT,GAAkB,CAAnB,CADQ,EAEhBjG,QAAQ,CAACA,QAAQ,CAACiG,MAAT,GAAkB,CAAnB,CAFQ,EAGhBjG,QAAQ,CAAC,CAAD,CAHQ,CAAlB,CADF,KAMK,IAAIc,UAAU,KAAK,CAAnB,EACHkF,eAAe,GAAG,CAChBhG,QAAQ,CAACA,QAAQ,CAACiG,MAAT,GAAkB,CAAnB,CADQ,EAEhBjG,QAAQ,CAAC,CAAD,CAFQ,EAGhBA,QAAQ,CAAC,CAAD,CAHQ,CAAlB,CADG,KAMAgG,eAAe,GAAGhG,QAAQ,CAACmF,KAAT,CAAerE,UAAU,GAAG,CAA5B,EAA+BA,UAAU,GAAG,CAA5C,CAAlB;AAELI,IAAAA,QAAQ,CAAC;AACPN,MAAAA,IAAI,EAAE,wBADC;AAEPC,MAAAA,OAAO,EAAE;AACPI,QAAAA,YAAY,EAAE+E,eADP;AAEPhF,QAAAA,cAAc,EAAEoD,aAAa,CAACO,UAAU,CAACS,OAAZ,CAAb,CAAkCnG,KAF3C;AAGPwB,QAAAA,sBAAsB,EAAE;AAHjB;AAFF,KAAD,CAAR;AAQD,GAzBD;;AA2BA,MAAMyF,cAAc,GAAG,SAAjBA,cAAiB;AAAA,WACrBjF,YAAY,CAACiD,GAAb,CAAiB,UAACiC,KAAD,EAAQC,CAAR;AAAA,0BACfjF,6BAAC,YAAD;AACE,QAAA,GAAG,EAAEiF,CADP;AAEE,QAAA,KAAK,EAAEA,CAFT;AAGE,QAAA,WAAW,EAAED,KAAK,GAAGA,KAAH,aAAGA,KAAH,uBAAGA,KAAK,CAAEpD,KAAP,CAAa,cAAb,CAAH,GAAkC;AAHtD,SAKGoD,KALH,CADe;AAAA,KAAjB,CADqB;AAAA,GAAvB;;AAWA,MAAI,CAACnG,QAAL,EAAe;AACb,wBACEmB,6BAACuC,SAAD;AACE,MAAA,QAAQ,EAAE,CADZ;AAEE,MAAA,GAAG,EAAEiB,UAFP;AAGE,qBAAY;AAHd,oBAKExD,6BAAC,eAAD;AACE,MAAA,cAAc,EAAEH,cADlB;AAEE,MAAA,KAAK,EAAE;AACL/B,QAAAA,KAAK,EAAE,MADF;AAELoH,QAAAA,SAAS,kBAAgBrF,cAAhB;AAFJ,OAFT;AAME,mBAAU;AANZ,oBAQEG,kGARF,CALF,CADF;AAkBD;;AAED,sBACEA,6BAACuC,SAAD;AAAS,IAAA,QAAQ,EAAE,CAAnB;AAAsB,IAAA,GAAG,EAAEiB,UAA3B;AAAuC,mBAAY;AAAnD,KACGrE,eAAe,CAAC3B,IAAhB,IAAwBsC,YAAY,CAACgF,MAAb,GAAsB,CAA9C,iBACC9E,6BAAC,cAAD;AAAgB,IAAA,QAAQ;AAAxB,IAFJ,eAKEA,6BAAC,eAAD;AACE,IAAA,cAAc,EAAEH,cADlB;AAEE,IAAA,KAAK,EAAEoD,aAAa,CAACO,UAAU,CAACS,OAAZ,CAAb,CAAkCnG,KAAlC,GAA0CgC,YAAY,CAACgF,MAFhE;AAGE,IAAA,MAAM,EAAE7B,aAAa,CAACO,UAAU,CAACS,OAAZ,CAAb,CAAkClG,MAH5C;AAIE,IAAA,UAAU,EAAEuB,sBAJd;AAKE,iBAAU;AALZ,KAOGyF,cAAc,EAPjB,CALF,EAeG5F,eAAe,CAAC3B,IAAhB,IAAwBsC,YAAY,CAACgF,MAAb,GAAsB,CAA9C,iBAAmD9E,6BAAC,cAAD,OAftD,EAiBGZ,gBAAgB,CAAC5B,IAAjB,IAAyBsC,YAAY,CAACgF,MAAb,GAAsB,CAA/C,iBAAoD9E,6BAAC,UAAD,OAjBvD,CADF;AAqBD,CAzLD;;AC9BA,IAAMmF,cAAc,GAAG,SAAjBA,cAAiB;AAAA,MACrBtG,QADqB,QACrBA,QADqB;AAAA,MAErBE,QAFqB,QAErBA,QAFqB;AAAA,MAGrBC,cAHqB,QAGrBA,cAHqB;AAAA,MAIrBoG,cAJqB,QAIrBA,cAJqB;AAAA,MAKrBnG,sBALqB,QAKrBA,sBALqB;AAAA,MAMrBC,OANqB,QAMrBA,OANqB;AAAA,MAOrBC,eAPqB,QAOrBA,eAPqB;AAAA,MAQrBC,gBARqB,QAQrBA,gBARqB;AAAA,sBAUrBY,6BAAC,aAAD;AACE,IAAA,UAAU,EAAEnB,QAAQ,GAAGA,QAAQ,CAACiG,MAAZ,GAAqB,CAD3C;AAEE,IAAA,QAAQ,EAAE/F,QAFZ;AAGE,IAAA,cAAc,EAAEC,cAHlB;AAIE,IAAA,cAAc,EAAEoG,cAJlB;AAKE,IAAA,sBAAsB,EAAEnG,sBAL1B;AAME,IAAA,OAAO,EAAEC,OANX;AAOE,IAAA,eAAe,EAAEC,eAPnB;AAQE,IAAA,gBAAgB,EAAEC;AARpB,kBAUEY,6BAAC,QAAD,QAAWnB,QAAX,CAVF,CAVqB;AAAA,CAAvB;;;;"}