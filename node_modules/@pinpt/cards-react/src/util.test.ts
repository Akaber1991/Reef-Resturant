import test from 'ava';
import * as Utils from './util';
import { ENVIRONMENTS } from './types';

const PROFILE_ID = 'k';

test('get local dev URL with defaults', (t) => {
	const expectedResult: string = 'https://cards.local.ppoint.io:3002/profile/k?env=local&source=pinpoint-embed&editable=false&fullScreen=false&chrome=true&frameless=false';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.LOCAL, PROFILE_ID, false, false, false, false);
	t.is(expectedResult, actualResult);
});

test('get local dev URL with editing', (t) => {
	const expectedResult: string = 'https://cards.local.ppoint.io:3002/profile/k?env=local&source=pinpoint-embed&editable=true&fullScreen=false&chrome=true&frameless=false';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.LOCAL, PROFILE_ID, true, false, false, false);
	t.is(expectedResult, actualResult);
});

test('get local dev URL with fullScreen', (t) => {
	const expectedResult: string = 'https://cards.local.ppoint.io:3002/profile/k?env=local&source=pinpoint-embed&editable=true&fullScreen=true&chrome=true&frameless=false';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.LOCAL, PROFILE_ID, true, true, false, false);
	t.is(expectedResult, actualResult);
});

test('get local dev URL with no chrome', (t) => {
	const expectedResult: string = 'https://cards.local.ppoint.io:3002/profile/k?env=local&source=pinpoint-embed&editable=true&fullScreen=true&chrome=false&frameless=false';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.LOCAL, PROFILE_ID, true, true, true, false);
	t.is(expectedResult, actualResult);
});

test('get local dev URL with frameless', (t) => {
	const expectedResult: string = 'https://cards.local.ppoint.io:3002/profile/k?env=local&source=pinpoint-embed&editable=true&fullScreen=true&chrome=false&frameless=true';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.LOCAL, PROFILE_ID, true, true, true, true);
	t.is(expectedResult, actualResult);
});

test('get edge URL with defaults', (t) => {
	const expectedResult: string = 'https://cards.pinpoint.com/profile/k?env=edge&source=pinpoint-embed&editable=false&fullScreen=false&chrome=true&frameless=false';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.EDGE, PROFILE_ID, false, false, false, false);
	t.is(expectedResult, actualResult);
});

test('get edge URL with editing', (t) => {
	const expectedResult: string = 'https://cards.pinpoint.com/profile/k?env=edge&source=pinpoint-embed&editable=true&fullScreen=false&chrome=true&frameless=false';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.EDGE, PROFILE_ID, true, false, false, false);
	t.is(expectedResult, actualResult);
});

test('get edge URL with fullScreen', (t) => {
	const expectedResult: string = 'https://cards.pinpoint.com/profile/k?env=edge&source=pinpoint-embed&editable=true&fullScreen=true&chrome=true&frameless=false';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.EDGE, PROFILE_ID, true, true, false, false);
	t.is(expectedResult, actualResult);
});

test('get edge URL with no chrome', (t) => {
	const expectedResult: string = 'https://cards.pinpoint.com/profile/k?env=edge&source=pinpoint-embed&editable=true&fullScreen=true&chrome=false&frameless=false';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.EDGE, PROFILE_ID, true, true, true, false);
	t.is(expectedResult, actualResult);
});

test('get edge URL with frameless', (t) => {
	const expectedResult: string = 'https://cards.pinpoint.com/profile/k?env=edge&source=pinpoint-embed&editable=true&fullScreen=true&chrome=false&frameless=true';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.EDGE, PROFILE_ID, true, true, true, true);
	t.is(expectedResult, actualResult);
});

test('get production URL with defaults', (t) => {
	const expectedResult: string = 'https://cards.pinpoint.com/profile/k?env=stable&source=pinpoint-embed&editable=false&fullScreen=false&chrome=true&frameless=false';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.STABLE, PROFILE_ID, false, false, false, false);
	t.is(expectedResult, actualResult);
});

test('get production URL with editing', (t) => {
	const expectedResult: string = 'https://cards.pinpoint.com/profile/k?env=stable&source=pinpoint-embed&editable=true&fullScreen=false&chrome=true&frameless=false';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.STABLE, PROFILE_ID, true, false, false, false);
	t.is(expectedResult, actualResult);
});

test('get production URL with fullScreen', (t) => {
	const expectedResult: string = 'https://cards.pinpoint.com/profile/k?env=stable&source=pinpoint-embed&editable=true&fullScreen=true&chrome=true&frameless=false';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.STABLE, PROFILE_ID, true, true, false, false);
	t.is(expectedResult, actualResult);
});

test('get production URL with no chrome', (t) => {
	const expectedResult: string = 'https://cards.pinpoint.com/profile/k?env=stable&source=pinpoint-embed&editable=true&fullScreen=true&chrome=false&frameless=false';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.STABLE, PROFILE_ID, true, true, true, false);
	t.is(expectedResult, actualResult);
});

test('get production URL with frameless', (t) => {
	const expectedResult: string = 'https://cards.pinpoint.com/profile/k?env=stable&source=pinpoint-embed&editable=true&fullScreen=true&chrome=false&frameless=true';
	const actualResult: string = Utils.getCardEmbedUrl(ENVIRONMENTS.STABLE, PROFILE_ID, true, true, true, true);
	t.is(expectedResult, actualResult);
});

test('get mock profile URL', (t) => {
	const expectedResult: string = 'https://cards.pinpoint.com/profile/mock?avatar=https%3A%2F%2Favatar-management--avatars.us-west-2.prod.public.atl-paas.net%2F557058%3Ab8b49693-80ca-4a11-b26d-d36731b07a48%2Fc6c77d7b-d8f7-4abd-87de-6205b5f1948a%2F128&first_name=Keegan&last_name=Donley';
	const actualResult: string = Utils.getMockCardEmbedUrl('https://avatar-management--avatars.us-west-2.prod.public.atl-paas.net/557058:b8b49693-80ca-4a11-b26d-d36731b07a48/c6c77d7b-d8f7-4abd-87de-6205b5f1948a/128', 'Keegan', 'Donley');
	t.is(expectedResult, actualResult);
});
